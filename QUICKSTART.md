# WorldShell 快速启动指南

## 🚀 立即开始

### 1. 安装依赖
```bash
cd /Users/Shared/code
pip install -r worldshell/requirements.txt
```

### 2. 启动Web服务器
```bash
python worldshell/web_server.py
```

### 3. 打开浏览器
访问: **http://localhost:5001**

---

## 🎮 如何游戏

### 第一步：选择角色
- 打开浏览器后，点击选择 **H (守夜人)** 或 **Z (入侵者)**
- 两个玩家可以在不同浏览器/标签页中分别选择角色

### 第二步：了解目标
- **H**: 守护日记本（在保险箱里），坚持20回合
- **Z**: 找到日记本并逃离公寓

### 第三步：行动
- 右侧面板会列出所有可用动作
- 点击动作按钮执行
- 动作会消耗 AP（行动点数）
- 执行完动作后点击"结束回合"

### 第四步：观察与推理
- 注意对手的痕迹（模糊信息）
- 合理安排睡眠（恢复AP但失去视野）
- 利用噪音机制（Z行动时会惊醒H）

---

## 📝 关键机制

### AP（行动点数）系统
- 大部分动作消耗 1-2 AP
- 睡觉可以大幅恢复AP（但会失去视野）
- AP耗尽后必须等待或睡觉

### 信息视界
- 只能看到自己观测到的信息
- 对手在其他房间的动作是不可见的
- 通过痕迹（如开过的门、移动的物品）推断对手行动

### 噪音系统
- 某些动作（如撬锁、移动）会产生噪音
- 如果H在睡觉，大噪音会惊醒H
- Z需要小心行动，避免暴露

### 容器系统
- 物品可以藏在容器里（如保险箱、手提箱）
- 容器可能被锁住，需要钥匙或撬锁工具
- 打开容器需要先 `open`，然后才能 `take` 里面的物品

---

## 🛠️ 常见问题

**Q: 找不到lockpick怎么办？**  
A: Z的手提箱里有撬锁器，先 `open suitcase`，然后 `take lockpick`

**Q: 保险箱怎么打开？**  
A: 需要钥匙（key_h）或撬锁器。H一开始知道钥匙在哪，Z需要搜查。

**Q: 如何结束游戏？**  
A: Z拿到日记本并移动到 `exit_door`，或H坚持到20回合。

**Q: 为什么我看不到对方在干什么？**  
A: 这就是"信息视界"机制！你只能通过痕迹推测对方行动。

---

## 🔧 测试命令

```bash
# 测试核心功能
python worldshell/test_game.py

# 查看服务器日志
tail -f /tmp/worldshell_server.log

# 停止服务器
pkill -f "python.*web_server.py"
```

---

## 📚 进阶玩法

- 尝试不同的策略：H是应该一直守着保险箱，还是到处巡逻？
- 心理博弈：Z可以故意在错误的地方制造痕迹，误导H
- 时机选择：何时睡觉最安全/危险？
- 资源管理：AP的使用优先级

祝你游戏愉快！🎉
